(function(t){function e(e){for(var o,s,i=e[0],l=e[1],c=e[2],d=0,v=[];d<i.length;d++)s=i[d],r[s]&&v.push(r[s][0]),r[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(e);while(v.length)v.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],o=!0,i=1;i<a.length;i++){var l=a[i];0!==r[l]&&(o=!1)}o&&(n.splice(e--,1),t=s(s.s=a[0]))}return t}var o={},r={app:0},n=[];function s(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=o,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(a,o,function(e){return t[e]}.bind(null,o));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1:function(t,e){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var o=a("2b0e"),r=a("ce5b"),n=a.n(r),s=a("bb71");a("da64");o["default"].use(s["a"],{iconfont:"md"});var i=a("8c4f"),l=a("28dd"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("router-view")],1)},u=[],d={name:"App",components:{},data:function(){return{}}},v=d,f=a("2877"),p=a("6544"),h=a.n(p),m=a("7496"),b=Object(f["a"])(v,c,u,!1,null,null,null),g=b.exports;h()(b,{VApp:m["a"]});var x=a("2f62"),_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("v-container",{staticClass:"mt-5",attrs:{"fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",[a("v-sheet",{staticClass:"pa-5 ma-50 ",attrs:{color:"blue",height:"250",dark:""}},[a("p",{staticClass:"text-md-center mt-5",staticStyle:{"font-style":"italic","font-size":"30px"}},[t._v("LIBRARY MANAGEMENT SYSTEM")])])],1)],1)],1),a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-btn",{attrs:{color:"info",large:""},on:{click:function(e){return t.login()}}},[t._v("LOGIN")]),a("v-btn",{attrs:{color:"info",large:""},on:{click:function(e){return t.register()}}},[t._v("SIGN UP")])],1)],1)},y=[],k={name:"app",methods:{login:function(){this.$router.push("/login")},register:function(){this.$router.push("/register")}}},V=k,C=(a("9834"),a("8336")),T=a("a523"),w=a("0e8f"),S=a("a722"),A=a("8dd9"),O=Object(f["a"])(V,_,y,!1,null,null,null),E=O.exports;h()(O,{VBtn:C["a"],VContainer:T["a"],VFlex:w["a"],VLayout:S["a"],VSheet:A["a"]});var I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("div",{staticClass:"login"},[a("v-content",[a("v-toolbar",{attrs:{color:"blue",dark:""}},[a("v-toolbar-title",[t._v("LIBRARY MANAGEMENT SYSTEM")])],1),a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"blue"}},[a("v-toolbar-title",[t._v("LOGIN")])],1),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("v-text-field",{attrs:{rules:t.nameRules,label:"mail",required:"",hint:"enter valid mail","persistent-hint":"","validate-on-blur":!0},model:{value:t.u.email,callback:function(e){t.$set(t.u,"email",e)},expression:"u.email"}}),a("v-text-field",{attrs:{type:"password",label:"password",required:"",hint:"must have a capital,numeric and special char","persistent-hint":"","validate-on-blur":!0},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.validate(e)}},model:{value:t.u.password,callback:function(e){t.$set(t.u,"password",e)},expression:"u.password"}}),a("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[a("v-btn",{attrs:{dark:"",color:"blue"},on:{click:t.validate}},[t._v("LOG IN")])],1),a("router-link",{attrs:{to:"register"}},[t._v("Not a member?sign up")])],1)],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{width:"500",lazy:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-text",[t._v("\n       please enter correct login details\n  ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("ok")])],1)],1)],1)],1)])},$=[],N={name:"App",data:function(){return{dialog:!1,u:{email:"",password:""},nameRules:[function(t){return!!t||"field is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}]}},methods:{validate:function(){var t=this;this.$refs.form.validate()&&this.$http.post("http://localhost:3000/api/Students/login",this.u,{headers:{"content-type":"application/json"}}).then(function(e){console.log(e),"5caaf22cc82c9706c8d5c8dc"==e.body.userId?(localStorage.setItem("auth",!0),console.log("inadmin"),t.$store.state.userId=e.body.userId,t.$store.state.accessToken=e.body.id,t.$router.push("/admin/ahome")):(console.log("student"),localStorage.setItem("auth",!0),localStorage.setItem("userId",e.body.userId),localStorage.setItem("accessToken",e.body.id),t.$store.state.userId=e.body.userId,t.$store.state.accessToken=e.body.id,t.fetch(function(e,a){if(e)throw e;t.fetchData(function(e,a){if(e)throw e;t.fetchProfileData(function(e,a){if(e)throw e;t.$router.push("/student/shome")})})}))},function(e){t.dialog=!0})},fetch:function(t){var e=this;this.$http.get("http://localhost:3000/api/books").then(function(a){e.$store.state.books=a.body,t(null,"success")},function(e){t(e)})},fetchData:function(t){var e=this,a=new Headers({"content-type":"application/json"});a["Authorization"]=this.$store.state.accessToken,console.log(this.$store.state.userId);var o="http://localhost:3000/api/transactions?filter[include]=Book&filter[where][user_Id]="+this.$store.state.userId;console.log(o),this.$http.get(o,{headers:a}).then(function(a){e.$store.state.mybooks=a.body,e.$store.state.total_books=e.$store.state.mybooks.length,t(null,"success")},function(e){t(e),console.log(e)})},fetchProfileData:function(t){var e=this,a=new Headers({"content-type":"application/json"});a["Authorization"]=localStorage.accessToken,this.$http.get("http://localhost:3000/api/Students/"+localStorage.userId,{headers:a}).then(function(a){localStorage.setItem("userName",a.body.userName),e.$store.state.userName=localStorage.getItem("userName"),console.log(e.$store.state.userName),e.$store.state.rollnumber=a.body.rollnumber,e.$store.state.email=a.body.email,t(null,"successs")},function(e){t(e),console.error(e)})}}},R=N,D=a("b0af"),j=a("99d9"),L=a("549c"),B=a("169a"),F=a("ce7e"),q=a("4bd4"),z=a("9910"),M=a("2677"),P=a("71d9"),H=a("2a7f"),K=Object(f["a"])(R,I,$,!1,null,null,null),G=K.exports;h()(K,{VApp:m["a"],VBtn:C["a"],VCard:D["a"],VCardActions:j["a"],VCardText:j["b"],VContainer:T["a"],VContent:L["a"],VDialog:B["a"],VDivider:F["a"],VFlex:w["a"],VForm:q["a"],VLayout:S["a"],VSpacer:z["a"],VTextField:M["a"],VToolbar:P["a"],VToolbarTitle:H["a"]});var Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("div",{staticClass:"login"},[a("v-content",[a("v-toolbar",{attrs:{color:"blue",dark:""}},[a("v-toolbar-title",[t._v("LIBRARY MANAGEMENT SYSTEM")])],1),a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"blue"}},[a("v-toolbar-title",[t._v("REGISTRATION")])],1),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("v-text-field",{attrs:{label:"name",required:"",hint:"enter username","persistent-hint":"",rules:t.userRules,"validate-on-blur":!0},model:{value:t.r.userName,callback:function(e){t.$set(t.r,"userName",e)},expression:"r.userName"}}),a("v-text-field",{attrs:{rules:t.nameRules,label:"mail",required:"",hint:"enter valid mail","persistent-hint":"","validate-on-blur":!0},model:{value:t.r.email,callback:function(e){t.$set(t.r,"email",e)},expression:"r.email"}}),a("v-text-field",{attrs:{label:"rollnumber",required:"",rules:t.rollRules,"validate-on-blur":!0,hint:"enter rollnumber","persistent-hint":""},model:{value:t.r.rollnumber,callback:function(e){t.$set(t.r,"rollnumber",e)},expression:"r.rollnumber"}}),a("v-text-field",{attrs:{type:"password",rules:t.passRules,label:"password",required:"",hint:"must have a capital,numeric and special char","persistent-hint":"","validate-on-blur":!0},model:{value:t.r.password,callback:function(e){t.$set(t.r,"password",e)},expression:"r.password"}}),a("v-text-field",{attrs:{type:"password",rules:t.cpassRules,label:"confirm password",required:"",hint:"password and confirm password must be same","persistent-hint":"","validate-on-blur":!0},model:{value:t.r.cpassword,callback:function(e){t.$set(t.r,"cpassword",e)},expression:"r.cpassword"}}),a("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[a("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(e){return e.stopPropagation(),t.validate()}}},[t._v("\n   REGISTER\n  ")])],1),a("router-link",{attrs:{to:"login"}},[t._v("Already a member?Login")]),a("v-dialog",{attrs:{width:"500",lazy:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-text",[t._v("\n       SUCCESSFULLY REGISTERED\n  ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){return t.log()}}},[t._v("\n          LOGIN TO CONTINUE\n        ")])],1)],1)],1),a("v-dialog",{attrs:{width:"500",lazy:""},model:{value:t.fail,callback:function(e){t.fail=e},expression:"fail"}},[a("v-card",[a("v-card-text",[t._v("\n       FAILED TO REGISTER!\n  ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.fail=!1}}},[t._v("\n          OK\n        ")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)])},U=[],W=(a("386d"),{data:function(){var t=this;return{r:{email:"",password:"",userName:"",cpassword:"",rollnumber:""},fail:!1,nameRules:[function(t){return!!t||"field is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}],userRules:[function(t){return!!t||"field is required"},function(t){return 0!=t.trim().length||"user name must be valid"}],passRules:[function(t){return!!t||"field is required"},function(t){return/[A-Z]/.test(t)||" must contain capital,special char and number"},function(t){return/[0-9]/.test(t)||" must contain capital,special char and number"},function(t){return/[ !"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~]/.test(t)||" must contain capital,special char and number"}],cpassRules:[function(t){return!!t||"field is required"},function(e){return e===t.r.password||"passwords must be same"}],rollRules:[function(t){return!!t||"field is required"},function(t){return-1==t.search(" ")||"should not contain spaces"},function(t){return 10==t.length||"roll number must contain 10 character"}],dialog:!1}},methods:{validate:function(){var t=this;this.$refs.form.validate()&&(this.r.userName=this.r.userName.trim(),this.$http.post("http://localhost:3000/api/Students",this.r,{headers:{"content-type":"application/json"}}).then(function(e){t.dialog=!0},function(e){t.fail=!0,console.error(e)}))},log:function(){this.dialog=!1,this.$router.push("/login")}}}),J=W,Z=Object(f["a"])(J,Y,U,!1,null,null,null),Q=Z.exports;h()(Z,{VApp:m["a"],VBtn:C["a"],VCard:D["a"],VCardActions:j["a"],VCardText:j["b"],VContainer:T["a"],VContent:L["a"],VDialog:B["a"],VDivider:F["a"],VFlex:w["a"],VForm:q["a"],VLayout:S["a"],VSpacer:z["a"],VTextField:M["a"],VToolbar:P["a"],VToolbarTitle:H["a"]});var X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-content",[a("v-container",[a("h"),a("v-container",{attrs:{"text-xs-center":""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-card",{attrs:{dark:"",color:"blue"}},[a("v-card-text",{staticClass:"px-0"},[t._v("WELCOME ADMIN")])],1)],1)],1),[a("v-timeline",[a("v-timeline-item",{attrs:{color:"blue lighten-2",large:""}},[a("v-card",{staticClass:"elevation-2"},[a("v-card-title",{staticClass:"headline"},[t._v(t._s(this.title1))]),a("v-divider"),a("v-card-text",[a("v-progress-circular",{attrs:{value:this.value1}}),t._v("\n         "+t._s(this.value1)+"\n        ")],1)],1)],1),a("v-timeline-item",{attrs:{color:"blue lighten-2",large:"",right:"true"}},[a("v-card",{staticClass:"elevation-2"},[a("v-card-title",{staticClass:"headline"},[t._v(t._s(this.title2))]),a("v-divider"),a("v-card-text",[a("v-progress-circular",{attrs:{value:this.value2}}),t._v("\n         "+t._s(this.value2)+"\n        ")],1)],1)],1)],1)]],2)],1)],1)},tt=[],et=(a("ac6a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("v-navigation-drawer",{staticClass:"blue",attrs:{clipped:t.clipped,app:"",dark:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-img",{attrs:{"aspect-ratio":16/9,src:"https://cdn.vuetifyjs.com/images/backgrounds/vbanner.jpg"}},[a("v-layout",{staticClass:"lightbox white--text",attrs:{"pa-2":"",column:"","fill-height":""}},[a("v-spacer"),a("v-flex",{attrs:{shrink:""}},[a("div",{staticClass:"subheading"},[t._v("ADMIN")]),a("div",{staticClass:"body-1"},[t._v("Welcome to admin pannel")])])],1)],1),a("v-divider"),a("v-list",{staticClass:"pa-1"},[t._l(t.items,function(e){return a("v-list-tile",{key:e.title,attrs:{to:e.path},on:{click:function(e){t.drawer=!1}}},[a("v-list-tile-action",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.title))])],1)],1)}),a("v-list-group",{attrs:{value:"false"},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-tile",[a("v-list-tile-title",[t._v("MANAGEMENT")])],1)]},proxy:!0}])},t._l(t.cruds,function(e,o){return a("v-list-tile",{key:o,attrs:{to:e[2]}},[a("v-list-tile-title",{domProps:{textContent:t._s(e[0])}}),a("v-list-tile-action",[a("v-icon",{domProps:{textContent:t._s(e[1])}})],1)],1)}),1)],2)],1),a("v-toolbar",{attrs:{fixed:"",app:"","clipped-left":t.clipped,color:"blue",dark:""}},[a("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("v-toolbar-title",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("span",t._g({},o),[t._v("LIBRARY MANAGEMENT SYSTEM")])]}}])},[a("span",[t._v("admin portal")])])],1),a("v-spacer"),a("v-btn",{attrs:{small:"",flat:"",outline:""},on:{click:function(e){t.dialog=!0}}},[a("span",[t._v("LOGOUT")])])],1),a("v-dialog",{attrs:{width:"500",lazy:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-text",[t._v("\n       Are u sure, u want to logout?\n  ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){return t.logout()}}},[t._v(" yes")]),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("cancel")])],1)],1)],1)],1)}),at=[],ot={name:"App",components:{},methods:{logout:function(){this.dialog=!1,localStorage.clear(),this.$router.push("/")}},data:function(){return{items:[{title:"Home",icon:"dashboard",path:"/admin/ahome"},{title:"Reports",icon:"question_answer",path:"/admin/reports"},{title:"Student details",icon:"question_answer",path:"/admin/studentdetails"}],drawer:!0,dialog:!1,cruds:[["Create","add book","/admin/create"],["Read","list","/admin/list"]]}}},rt=ot,nt=a("132d"),st=a("adda"),it=a("8860"),lt=a("56b0"),ct=a("ba95"),ut=a("40fe"),dt=a("5d23"),vt=a("f774"),ft=a("706c"),pt=a("3a2f"),ht=Object(f["a"])(rt,et,at,!1,null,null,null),mt=ht.exports;h()(ht,{VBtn:C["a"],VCard:D["a"],VCardActions:j["a"],VCardText:j["b"],VDialog:B["a"],VDivider:F["a"],VFlex:w["a"],VIcon:nt["a"],VImg:st["a"],VLayout:S["a"],VList:it["a"],VListGroup:lt["a"],VListTile:ct["a"],VListTileAction:ut["a"],VListTileContent:dt["a"],VListTileTitle:dt["b"],VNavigationDrawer:vt["a"],VSpacer:z["a"],VToolbar:P["a"],VToolbarSideIcon:ft["a"],VToolbarTitle:H["a"],VTooltip:pt["a"]});var bt={name:"App",components:{h:mt},data:function(){return{title1:"Total issued Copies",value1:0,title2:"updated fine amount",value2:0,books:[]}},mounted:function(){var t=this,e=0,a=new Headers({"content-type":"application/json"});a["Authorization"]=this.$store.state.accessToken,this.$http.get("http://localhost:3000/api/transactions?filter[where][isReturned]=false",{headers:a}).then(function(a){t.books=a.body,t.books.forEach(function(t){console.log(t),e+=t.fine}),console.log(e),console.log(t.books.length),t.value2=e,t.value1=t.books.length,t.$store.state.TOTAL_FINE=e,t.$store.state.TOTAL_BOOKS=t.books.length},function(t){console.error(t)})}},gt=bt,xt=a("12b2"),_t=a("490a"),yt=a("8414"),kt=a("1e06"),Vt=Object(f["a"])(gt,X,tt,!1,null,null,null),Ct=Vt.exports;h()(Vt,{VApp:m["a"],VCard:D["a"],VCardText:j["b"],VCardTitle:xt["a"],VContainer:T["a"],VContent:L["a"],VDivider:F["a"],VFlex:w["a"],VProgressCircular:_t["a"],VTimeline:yt["a"],VTimelineItem:kt["a"]});var Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-content",[a("v-container",[a("h"),a("v-card",{staticClass:"white--text",attrs:{color:"blue lighten-2 dark"}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"title"},[t._v("STATISTICS")])])])],1),a("v-card",[a("v-container",{attrs:{fluid:"","grid-list-xl":""}},[a("v-layout",{attrs:{column:"",wrap:""}},[a("v-flex",[a("v-card",{attrs:{color:"blue lighten-4"}},[a("v-card-text",{staticClass:"px-1"},[a("b",[t._v("TOTAL BOOKS:"+t._s(t.value1))])])],1)],1),a("v-flex",[a("v-card",{attrs:{color:"blue lighten-4"}},[a("v-card-text",{staticClass:"px-1"},[a("b",[t._v("TOTAL FINE:"+t._s(t.value2))])])],1)],1)],1)],1)],1)],1)],1)],1)},wt=[],St={name:"App",components:{h:mt},mounted:function(){var t=this,e=0,a=new Headers({"content-type":"application/json"});a["Authorization"]=this.$store.state.accessToken,this.$http.get("http://localhost:3000/api/transactions?filter[where][isReturned]=false",{headers:a}).then(function(a){t.books=a.body,t.books.forEach(function(t){console.log(t),e+=t.fine}),console.log(e),console.log(t.books.length),t.value2=e,t.value1=t.books.length},function(t){console.error(t)})},data:function(){return{value1:0,value2:0,books:[]}}},At=St,Ot=Object(f["a"])(At,Tt,wt,!1,null,null,null),Et=Ot.exports;h()(Ot,{VApp:m["a"],VCard:D["a"],VCardText:j["b"],VCardTitle:xt["a"],VContainer:T["a"],VContent:L["a"],VFlex:w["a"],VLayout:S["a"]});var It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-content",[a("v-container",[a("h"),a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"blue lighten-2"}},[a("v-toolbar-title",[t._v("ADD BOOK")])],1),a("v-card-text",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{rules:t.titleRules,label:"BookName",required:""},model:{value:t.b.title,callback:function(e){t.$set(t.b,"title",e)},expression:"b.title"}}),a("v-text-field",{attrs:{rules:t.copyRules,label:"copies",type:"number",required:""},model:{value:t.b.total_Number_Copies,callback:function(e){t.$set(t.b,"total_Number_Copies",e)},expression:"b.total_Number_Copies"}}),a("v-text-field",{attrs:{rules:t.authorRules,label:"author",required:""},model:{value:t.b.author,callback:function(e){t.$set(t.b,"author",e)},expression:"b.author"}}),a("v-text-field",{attrs:{rules:t.categoryRules,label:"catagory",required:""},model:{value:t.b.category,callback:function(e){t.$set(t.b,"category",e)},expression:"b.category"}}),a("v-textarea",{attrs:{rules:t.descriptionRules,label:"Description",rows:"5"},model:{value:t.b.description,callback:function(e){t.$set(t.b,"description",e)},expression:"b.description"}}),a("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[a("v-btn",{attrs:{color:"primary",dark:""},on:{click:function(e){return e.stopPropagation(),t.validate()}}},[t._v("\n   ADD BOOK\n  ")])],1),a("v-dialog",{attrs:{width:"500",lazy:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-text",[t._v("\n      BOOK ADDED\n  ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n        CLOSE\n        ")])],1)],1)],1)],1)],1)],1)],1)],1)],1)},$t=[],Nt={name:"App",components:{h:mt},methods:{validate:function(){var t=this;if(this.$refs.form.validate()){this.dialog=!0,this.b.title=this.b.title.trim(),this.b.author=this.b.author.trim(),this.b.description=this.b.description.trim(),this.b.category=this.b.category.trim();var e=new Headers({"content-type":"application/json"});e["Authorization"]=this.$store.state.accessToken,this.$http.post("http://localhost:3000/api/books",this.b,{headers:e}).then(function(e){t.dialog=!0,t.$refs.form.reset()},function(t){console.error(t)})}}},data:function(){return{b:{title:"",total_Number_Copies:"",author:"",category:"",description:""},dialog:!1,titleRules:[function(t){return!!t||"field is required"},function(t){return 0!=t.trim().length||"title name must be valid"}],copyRules:[function(t){return!!t||"field is required"},function(t){return 0!=t.length||"must be number,not empty"}],authorRules:[function(t){return!!t||"field is required"},function(t){return 0!=t.trim().length||"author name must be valid"}],categoryRules:[function(t){return!!t||"field is required"},function(t){return 0!=t.trim().length||"category name must be valid"}],descriptionRules:[function(t){return!!t||"field is required"},function(t){return 0!=t.trim().length||"description name must be valid"}]}}},Rt=Nt,Dt=a("a844"),jt=Object(f["a"])(Rt,It,$t,!1,null,null,null),Lt=jt.exports;h()(jt,{VApp:m["a"],VBtn:C["a"],VCard:D["a"],VCardActions:j["a"],VCardText:j["b"],VContainer:T["a"],VContent:L["a"],VDialog:B["a"],VDivider:F["a"],VFlex:w["a"],VForm:q["a"],VSpacer:z["a"],VTextField:M["a"],VTextarea:Dt["a"],VToolbar:P["a"],VToolbarTitle:H["a"]});var Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-content",[a("v-container",[a("h"),[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.books},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.title))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.author))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.category))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.description))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.total_Number_Copies))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.copies_Issued))])]}}])})]],2)],1)],1)},Ft=[],qt=a("bd86"),zt={name:"App",components:{h:mt},mounted:function(){var t=this,e=new Headers({"content-type":"application/json"});e["Authorization"]=this.$store.state.accessToken,this.$http.get("http://localhost:3000/api/books",{headers:e}).then(function(e){t.books=e.body},function(t){console.error(t)})},data:function(){return{search:"",books:[],headers:[Object(qt["a"])({text:"BOOK TITLE",align:"left",value:"title"},"align","left"),{text:"AUTHOR",value:"author",align:"left"},{text:"CATEGORY",value:"category",align:"left"},{text:"DESCRIPTION",value:"description",align:"left"},{text:"NO. OF COPIES",value:"total_Number_Copies",align:"left"},{text:"COPIES ISSUED",value:"copies_Issued",align:"left"}]}}},Mt=zt,Pt=a("8fea"),Ht=Object(f["a"])(Mt,Bt,Ft,!1,null,null,null),Kt=Ht.exports;h()(Ht,{VApp:m["a"],VContainer:T["a"],VContent:L["a"],VDataTable:Pt["a"]});var Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-content",[a("v-container",[a("h"),a("v-container",{attrs:{"text-xs-center":""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-card",{attrs:{dark:"",color:"primary"}},[a("v-card-text",{staticClass:"px-0"},[t._v("BROWSE BOOKS")])],1)],1)],1),[a("v-card",[a("v-card-title",[a("b",[t._v("Browse books")]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.books,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.title))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.author))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.category))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.description))]),a("td",{staticClass:"text-xs-left"},[a("v-btn",{attrs:{small:"",color:"green"},on:{click:function(a){t.id=e.item.id,t.dialog=!0}}},[t._v("request")])],1)]}}])},[a("v-progress-linear",{attrs:{color:"blue",indeterminate:""},scopedSlots:t._u([{key:"progress",fn:function(){},proxy:!0}])}),a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"},scopedSlots:t._u([{key:"no-results",fn:function(){return[t._v('\n        Your search for "'+t._s(t.search)+'" found no results.\n      ')]},proxy:!0}])})],1)],1)],a("v-dialog",{attrs:{width:"500",lazy:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-text",[t._v("\n         do u want to continue to request?\n    ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){return t.request()}}},[t._v(" yes")]),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("cancel")])],1)],1)],1),a("v-dialog",{attrs:{width:"500",lazy:""},model:{value:t.suc,callback:function(e){t.suc=e},expression:"suc"}},[a("v-card",[a("v-card-text",[t._v("\n         book request sent successfully\n    ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.suc=!1}}},[t._v("OK")])],1)],1)],1),a("v-dialog",{attrs:{width:"500",lazy:""},model:{value:t.fail,callback:function(e){t.fail=e},expression:"fail"}},[a("v-card",[a("v-card-text",[t._v("\n        "+t._s(t.message)+"\n    ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.fail=!1}}},[t._v("OK")])],1)],1)],1)],2)],1)],1)},Yt=[],Ut=a("0a0d"),Wt=a.n(Ut),Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("v-navigation-drawer",{staticClass:"blue",attrs:{clipped:t.clipped,app:"",dark:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-img",{attrs:{"aspect-ratio":16/9,src:"https://cdn.vuetifyjs.com/images/backgrounds/vbanner.jpg"}},[a("v-layout",{staticClass:"lightbox white--text",attrs:{"pa-2":"",column:"","fill-height":""}},[a("v-spacer"),a("v-flex",{attrs:{shrink:""}},[a("div",{staticClass:"subheading"},[t._v(t._s(t.uname))]),a("div",{staticClass:"body-1"},[t._v("welcome to online library")])])],1)],1),a("v-divider",{staticClass:"mt-5"}),a("v-list",{staticClass:"pa-1"},t._l(t.items,function(e){return a("v-list-tile",{key:e.title,attrs:{to:e.path},on:{click:function(e){t.drawer=!1}}},[a("v-list-tile-action",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-tile-content",[a("v-list-tile-title",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(o){var r=o.on;return[a("span",t._g({},r),[t._v(t._s(e.title))])]}}],null,!0)},[a("span",[t._v(t._s(e.tool))])])],1)],1)],1)}),1)],1),a("v-toolbar",{attrs:{fixed:"",app:"","clipped-left":t.clipped,color:"blue",dark:""}},[a("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("v-toolbar-title",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("span",t._g({},o),[t._v("LIBRARY MANAGEMENT SYSTEM")])]}}])},[a("span",[t._v("Online library")])])],1),a("v-spacer"),a("v-btn",{attrs:{small:"",flat:"",outline:""},on:{click:function(e){t.dialog=!0}}},[a("span",[t._v("LOGOUT")])])],1),a("v-dialog",{attrs:{width:"500",lazy:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-text",[t._v("\n       Are u sure, u want to logout?\n  ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){return t.logout()}}},[t._v(" yes")]),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("cancel")])],1)],1)],1)],1)},Zt=[],Qt={name:"App",components:{},methods:{logout:function(){this.dialog=!1,localStorage.clear(),this.$router.push("/")}},data:function(){return{items:[{title:"Home",icon:"dashboard",path:"/student/shome",tool:"browse books"},{title:"Mybooks",icon:"question_answer",path:"/student/mybooks",tool:"my books"},{title:"Fine",icon:"question_answer",path:"/student/fine",tool:"display fine"},{title:"Profile",icon:"question_answer",path:"/student/profile",tool:"my profile"}],drawer:!1,dialog:!1,uname:localStorage.getItem("userName")}},created:function(){console.log(this.uname),console.log(this.$store.state.userName),this.uname=localStorage.getItem("userName")},mounted:function(){console.log(this.uname)}},Xt=Qt,te=Object(f["a"])(Xt,Jt,Zt,!1,null,null,null),ee=te.exports;h()(te,{VBtn:C["a"],VCard:D["a"],VCardActions:j["a"],VCardText:j["b"],VDialog:B["a"],VDivider:F["a"],VFlex:w["a"],VIcon:nt["a"],VImg:st["a"],VLayout:S["a"],VList:it["a"],VListTile:ct["a"],VListTileAction:ut["a"],VListTileContent:dt["a"],VListTileTitle:dt["b"],VNavigationDrawer:vt["a"],VSpacer:z["a"],VToolbar:P["a"],VToolbarSideIcon:ft["a"],VToolbarTitle:H["a"],VTooltip:pt["a"]});var ae={name:"App",components:{h:ee},data:function(){return{search:"",id:"",dialog:!1,suc:!1,books:[],fail:!1,message:"",headers:[Object(qt["a"])({text:"BOOK TITLE",align:"left",value:"title"},"align","left"),{text:"AUTHOR",value:"author",align:"left"},{text:"CATEGORY",value:"category",align:"left"},{text:"DESCRIPTION",value:"description",align:"left"},{text:"ACTION",value:"",align:"left",sortable:!1}]}},methods:{request:function(){var t=this;this.dialog=!1;var e=new Date,a={user_Id:this.$store.state.userId,book_Id:this.id,issued_Date:Wt()(),return_By_This_Date:e.setDate(e.getDate()+7)},o=new Headers({"content-type":"application/json"});o["Authorization"]=this.$store.state.accessToken,this.$http.post("http://localhost:3000/api/transactions",a,{headers:o}).then(function(e){t.suc=!0},function(e){t.message=e.body.error.message,t.fail=!0,console.error(e)})}},mounted:function(){var t=this;this.$http.get("http://localhost:3000/api/books").then(function(e){t.books=e.body},function(t){console.error(t)}),this.$store.state.userName=localStorage.userName,console.log(this.$store.state.userName)}},oe=ae,re=a("0798"),ne=a("8e36"),se=Object(f["a"])(oe,Gt,Yt,!1,null,null,null),ie=se.exports;h()(se,{VAlert:re["a"],VApp:m["a"],VBtn:C["a"],VCard:D["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:xt["a"],VContainer:T["a"],VContent:L["a"],VDataTable:Pt["a"],VDialog:B["a"],VDivider:F["a"],VFlex:w["a"],VProgressLinear:ne["a"],VSpacer:z["a"],VTextField:M["a"]});var le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-content",[a("v-container",[a("h"),a("v-container",{attrs:{"text-xs-center":""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-card",{attrs:{dark:"",color:"primary"}},[a("v-card-text",{staticClass:"px-0"},[t._v("MY BOOKS")])],1)],1)],1),[a("v-card",[a("v-card-title",[t._v("\n      MY BOOKS\n      "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.mybooks,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.Book.title))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.Book.author))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.issued_Date))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.fine))]),a("td",{staticClass:"text-xs-left"},[a("v-btn",{attrs:{small:"",color:"green lighten-2",disabled:e.item.isReturned},on:{click:function(a){t.dialog=!0,t.id=e.item.book_Id}}},[t._v("return"),e.item.isReturned?a("span",[t._v("ed")]):t._e()])],1)]}},{key:"footer",fn:function(){return[a("td",{attrs:{colspan:t.headers.length}},[a("strong",[t._v("TOTAL BOOKS BORROWED:"+t._s(t.total_books))])])]},proxy:!0}])},[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"},scopedSlots:t._u([{key:"no-results",fn:function(){return[t._v('\n        Your search for "'+t._s(t.search)+'" found no results.\n      ')]},proxy:!0}])})],1)],1)],a("v-dialog",{attrs:{width:"500",lazy:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-text",[t._v("\n        Are you sure you want to return?\n    ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){return t.request()}}},[t._v(" yes")]),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("cancel")])],1)],1)],1),a("v-dialog",{attrs:{width:"500",lazy:""},model:{value:t.suc,callback:function(e){t.suc=e},expression:"suc"}},[a("v-card",[a("v-card-text",[t._v("\n         returned successfully\n    ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){return t.refresh()}}},[t._v("OK")])],1)],1)],1),a("v-dialog",{attrs:{width:"500",lazy:""},model:{value:t.fail,callback:function(e){t.fail=e},expression:"fail"}},[a("v-card",[a("v-card-text",[t._v("\n        "+t._s(t.message)+"\n    ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.fail=!1}}},[t._v("OK")])],1)],1)],1)],2)],1)],1)},ce=[],ue=a("f499"),de=a.n(ue),ve={name:"App",components:{h:ee},methods:{request:function(){var t=this;this.dialog=!1;var e={user_Id:this.$store.state.userId,book_Id:this.id};console.log("return req obj"+e),console.log("return req obj"+de()(e));var a=new Headers({"content-type":"application/json"});a["Authorization"]=this.$store.state.accessToken,this.$http.post("http://localhost:3000/api/transactions/return",e,{headers:a}).then(function(e){t.suc=!0},function(e){t.message=e.body.error.message,t.fail=!0})},refresh:function(){this.suc=!1,this.fetchData()},fetchData:function(){var t=this,e=new Headers({"content-type":"application/json"});e["Authorization"]=localStorage.accessToken;var a="http://localhost:3000/api/transactions?filter[include]=Book&filter[where][user_Id]="+localStorage.userId+"&getfine=true";console.log(a),this.$http.get(a,{headers:e}).then(function(e){t.mybooks=e.body,t.mybooks.forEach(function(e,a,o){0==e.isReturned&&(t.total_books+=1)})},function(t){console.error(t)})}},data:function(){return{search:"",mybooks:[],dialog:!1,suc:!1,fail:!1,message:"",id:"",total_books:0,headers:[{text:"BOOK TITLE",value:"Book.title",align:"left"},{text:"AUTHOR",value:"Book.author",align:"left"},{text:"ISSUE DATE",value:"issued_Date",align:"left"},{text:"FINE",value:"fine",align:"left"},{text:"ACTION",value:"isReturned",align:"left"}]}},mounted:function(){this.fetchData()}},fe=ve,pe=Object(f["a"])(fe,le,ce,!1,null,null,null),he=pe.exports;h()(pe,{VAlert:re["a"],VApp:m["a"],VBtn:C["a"],VCard:D["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:xt["a"],VContainer:T["a"],VContent:L["a"],VDataTable:Pt["a"],VDialog:B["a"],VDivider:F["a"],VFlex:w["a"],VSpacer:z["a"],VTextField:M["a"]});var me=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-content",[a("v-container",[a("h"),a("v-container",{attrs:{"text-xs-center":""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-card",{attrs:{dark:"",color:"primary"}},[a("v-card-text",{staticClass:"px-0"},[t._v("FINES")])],1)],1)],1),[a("v-card",[a("v-card-title",[t._v("\n    books\n      "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{attrs:{headers:t.headers,items:t.fines,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.Book.title))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.issued_Date))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.fine))])]}},{key:"footer",fn:function(){return[a("td",{attrs:{colspan:t.headers.length}},[a("strong",[t._v("TOTAL FINE:"+t._s(t.amount))])])]},proxy:!0}])},[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"},scopedSlots:t._u([{key:"no-results",fn:function(){return[t._v('\n        Your search for "'+t._s(t.search)+'" found no results.\n      ')]},proxy:!0}])})],1)],1)]],2)],1)],1)},be=[],ge={name:"App",components:{h:ee},methods:{request:function(){var t=this;this.dialog=!1;var e={user_Id:this.$store.state.userId,book_Id:this.id},a=new Headers({"content-type":"application/json"});a["Authorization"]=this.$store.state.accessToken,this.$http.post("http://localhost:3000/api/transactions/return",e,{headers:a}).then(function(e){t.suc=!0,t.$router.push("/student/mybooks")},function(e){t.message=e.body.error.message,t.fail=!0,console.error(e)})}},mounted:function(){var t=this,e=new Headers({"content-type":"application/json"});e["Authorization"]=localStorage.accessToken;var a="http://localhost:3000/api/transactions?filter[include]=Book&filter[where][user_Id]="+localStorage.userId+"&getfine=true";this.$http.get(a,{headers:e}).then(function(e){t.mybooks=e.body,console.log(t.mybooks),t.mybooks.forEach(function(e,a,o){console.log(e),0!=e.fine&&0==e.isReturned&&t.fines.push(e)}),t.fines.forEach(function(e){t.amount+=e.fine})},function(t){console.error(t)})},data:function(){return{fines:[],id:"",mybooks:[],search:"",dialog:!1,suc:!1,fail:!1,message:"",amount:0,headers:[Object(qt["a"])({text:"BOOK TITLE",align:"left",value:"Book.title"},"align","left"),{text:"ISSUE DATE",value:"issued_Date",align:"left"},{text:"FINE",value:"fine",align:"left"}]}}},xe=ge,_e=Object(f["a"])(xe,me,be,!1,null,null,null),ye=_e.exports;h()(_e,{VAlert:re["a"],VApp:m["a"],VCard:D["a"],VCardText:j["b"],VCardTitle:xt["a"],VContainer:T["a"],VContent:L["a"],VDataTable:Pt["a"],VFlex:w["a"],VSpacer:z["a"],VTextField:M["a"]});var ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-content",[a("v-container",[a("h"),a("v-container",{attrs:{"text-xs-center":""}},[a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-card",{attrs:{dark:"",color:"primary"}},[a("v-card-text",{staticClass:"px-0"},[t._v("MY PROFILE")])],1)],1)],1),a("v-card",[a("v-container",{attrs:{fluid:"","grid-list-xl":""}},[a("v-layout",{attrs:{column:"",wrap:""}},[a("v-flex",[a("pre",[a("b",[t._v("UserName:   "+t._s(this.profile.userName))])]),a("v-divider")],1),a("v-flex",[a("pre",[a("b",[t._v("Roll number:   "+t._s(this.profile.rollnumber))])]),a("v-divider")],1),a("v-flex",[a("pre",[a("b",[t._v("Email:   "+t._s(this.profile.email))])]),a("v-divider")],1)],1)],1)],1)],1)],1)],1)},Ve=[],Ce={name:"App",components:{h:ee},data:function(){return{profile:{}}},mounted:function(){var t=this,e=new Headers({"content-type":"application/json"});e["Authorization"]=localStorage.accessToken,this.$http.get("http://localhost:3000/api/Students/"+localStorage.userId,{headers:e}).then(function(e){t.profile=e.body},function(t){console.error(t)})}},Te=Ce,we=Object(f["a"])(Te,ke,Ve,!1,null,null,null),Se=we.exports;h()(we,{VApp:m["a"],VCard:D["a"],VCardText:j["b"],VContainer:T["a"],VContent:L["a"],VDivider:F["a"],VFlex:w["a"],VLayout:S["a"]});var Ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("router-view")],1)},Oe=[],Ee={name:"App",components:{},data:function(){return{}}},Ie=Ee,$e=Object(f["a"])(Ie,Ae,Oe,!1,null,null,null),Ne=$e.exports;h()($e,{VApp:m["a"]});var Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("router-view")],1)},De=[],je={name:"App",components:{},data:function(){return{}}},Le=je,Be=Object(f["a"])(Le,Re,De,!1,null,null,null),Fe=Be.exports;h()(Be,{VApp:m["a"]});var qe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-content",[a("v-container",[a("h")],1),a("v-container",{attrs:{"text-xs-center":""}},[a("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[a("v-card",{attrs:{dark:"",color:"primary"}},[a("v-card-text",{staticClass:"px-0"},[t._v("STUDENT DETAILS")])],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.su,expression:"su"}],staticClass:"search"},[a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("v-text-field",{staticClass:"mx-3",attrs:{label:"enter student rollno","prepend-inner-icon":"search",outline:"",rules:t.searchRules},model:{value:t.studentrollno,callback:function(e){t.studentrollno=e},expression:"studentrollno"}}),a("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[a("v-btn",{attrs:{flat:"",color:"blue",outline:""},on:{click:function(e){return t.searchbar()}}},[t._v("SEARCH")])],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.d,expression:"d"}],staticClass:"details"},[a("v-card",{staticClass:"ma-2",attrs:{dark:"",color:"primary"}},[a("v-card-text",{staticClass:"px-0"},[a("p",[t._v(" NAME:"),a("span",{staticClass:"ml-5"},[a("b",[t._v(t._s(t.name))])])])]),a("v-divider"),a("v-card-text",{staticClass:"px-0"},[a("p",[t._v(" ROLL NO:"),a("span",{staticClass:"ml-4"},[a("b",[t._v(t._s(t.rollno))])])])]),a("v-divider"),a("v-card-text",{staticClass:"px-0"},[a("p",[t._v(" MAIL:"),a("span",{staticClass:"ml-5"},[a("b",[t._v(t._s(t.mail))])])])]),a("v-divider"),a("v-card-actions",[a("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[a("v-btn",{attrs:{flat:"",color:"white",outline:""},on:{click:function(e){return t.proceed()}}},[t._v("PROCEED")]),a("v-btn",{attrs:{flat:"",color:"white",outline:""},on:{click:function(e){return t.cancel()}}},[t._v("CANCEL")])],1)],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.r,expression:"r"}],staticClass:"return"},[[a("v-card",[a("v-card-title",[t._v("\n    books\n      "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{attrs:{headers:t.headers,items:t.fines,"item-key":"book_Id",search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.Book.title))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.issued_Date))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.fine))]),a("td",{staticClass:"text-xs-left"},[a("v-btn",{attrs:{small:"",color:"red lighten-2"},on:{click:function(a){t.dialog=!0,t.id=e.item.Book.id}}},[t._v("clear")])],1)]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"},scopedSlots:t._u([{key:"no-results",fn:function(){return[t._v('\n        Your search for "'+t._s(t.search)+'" found no results.\n      ')]},proxy:!0}])})],1)],1),a("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[a("v-btn",{attrs:{flat:"",color:"blue",outline:""},on:{click:function(e){return t.clear()}}},[t._v("clear fine")]),a("v-btn",{attrs:{flat:"",color:"blue",outline:""},on:{click:function(e){return t.back()}}},[t._v("GO BACK")])],1)]],2),a("v-dialog",{attrs:{width:"500",lazy:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-text",[t._v("\n        Are you sure you want to clear fine?\n    ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){return t.pay()}}},[t._v(" yes")]),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("cancel")])],1)],1)],1),a("v-dialog",{attrs:{width:"500",lazy:""},model:{value:t.suc,callback:function(e){t.suc=e},expression:"suc"}},[a("v-card",[a("v-card-text",[t._v("\n          success\n    ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){return t.refresh()}}},[t._v("OK")])],1)],1)],1)],1)],1)},ze=[],Me={name:"App",components:{h:mt},data:function(){return{su:!0,d:!1,r:!1,id:"",s:{user_Id:"",bookIds:[]},studentrollno:"",mybooks:[],search:"",dialog:!1,suc:!1,fail:!1,message:"",amount:0,name:"ha",rollno:"ha",mail:"hjs",selected:[],fines:[],pagination:{sortBy:"fine"},headers:[Object(qt["a"])({text:"BOOK TITLE",align:"left",value:"Book.title"},"align","left"),{text:"ISSUE DATE",value:"issued_Date",align:"left"},{text:"FINE",value:"fine",align:"left"},{text:"ACTION",value:"isReturned",align:"left"}],searchRules:[function(t){return!!t||"enter roll number"}]}},methods:{searchbar:function(){var t=this;if(this.$refs.form.validate()){var e=new Headers({"content-type":"application/json"});e["Authorization"]=this.$store.state.accessToken;var a="http://localhost:3000/api/Students?filter[where][rollnumber]="+this.studentrollno;console.log(a),this.$http.get(a,{headers:e}).then(function(e){console.log(e),t.su=!1,t.name=e.body[0].userName,t.rollno=e.body[0].rollnumber,t.mail=e.body[0].email,t.s.user_Id=e.body[0].id,t.d=!0},function(t){console.log(t)})}},proceed:function(){var t=this,e=new Headers({"content-type":"application/json"});e["Authorization"]=this.$store.state.accessToken,this.$http.get("http://localhost:3000/api/transactions?filter[include]=Book&filter[where][user_Id]="+this.s.user_Id+"&getfine=true",{headers:e}).then(function(e){t.d=!1,t.mybooks=e.body,t.mybooks.forEach(function(e,a,o){console.log(e),0!=e.fine&&0==e.isReturned&&t.fines.push(e)}),t.r=!0},function(t){console.log(t)})},cancel:function(){this.su=!0,this.d=!1,this.$refs.form.reset()},clear:function(){this.dialog=!0},back:function(){this.su=!0,this.r=!1,this.$refs.form.reset()},pay:function(){var t=this;this.s.bookIds[0]=this.id;var e=new Headers({"content-type":"application/json"});e["Authorization"]=this.$store.state.accessToken,this.$http.post("http://localhost:3000/api/transactions/returnWithFine",this.s,{headers:e}).then(function(e){t.dialog=!1,t.suc=!0},function(t){console.log(t)})},refresh:function(){var t=this;this.r=!1,this.fetchData(function(e,a){e?console.log(e):(console.log("mybooks"+t.mybooks),t.suc=!1,t.r=!0)})},fetchData:function(t){var e=this,a=new Headers({"content-type":"application/json"});a["Authorization"]=this.$store.state.accessToken,this.$http.get("http://localhost:3000/api/transactions?filter[include]=Book&filter[where][isReturned]=false&filter[where][user_Id]="+this.s.user_Id+"&getfine=true",this.studentrollno,{headers:a}).then(function(a){e.suc=!1,e.mybooks=a.body,e.fines=[],e.mybooks.forEach(function(a,o,r){console.log(a),0!=a.fine&&0==a.isReturned&&e.fines.push(a),t(null,"successs")})},function(e){console.log(e),t("err")})}}},Pe=Me,He=Object(f["a"])(Pe,qe,ze,!1,null,null,null),Ke=He.exports;h()(He,{VAlert:re["a"],VApp:m["a"],VBtn:C["a"],VCard:D["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:xt["a"],VContainer:T["a"],VContent:L["a"],VDataTable:Pt["a"],VDialog:B["a"],VDivider:F["a"],VFlex:w["a"],VForm:q["a"],VSpacer:z["a"],VTextField:M["a"]});var Ge=[{path:"/",component:E},{path:"/login",component:G},{path:"/register",component:Q},{path:"/admin",component:Ne,beforeEnter:function(t,e,a){localStorage.auth?a():a("/")},children:[{path:"reports",component:Et,beforeEnter:function(t,e,a){localStorage.auth?a():a("/")}},{path:"studentdetails",component:Ke,beforeEnter:function(t,e,a){localStorage.auth?a():a("/")}},{path:"create",component:Lt,beforeEnter:function(t,e,a){localStorage.auth?a():a("/")}},{path:"list",component:Kt,beforeEnter:function(t,e,a){localStorage.auth?a():a("/")}},{path:"ahome",component:Ct,beforeEnter:function(t,e,a){localStorage.auth?a():a("/")}}]},{path:"/student",component:Fe,beforeEnter:function(t,e,a){localStorage.auth?a():a("/")},children:[{path:"shome",component:ie,beforeEnter:function(t,e,a){localStorage.auth?a():a("/")}},{path:"mybooks",component:he,beforeEnter:function(t,e,a){localStorage.auth?a():a("/")}},{path:"fine",component:ye,beforeEnter:function(t,e,a){localStorage.auth?a():a("/")}},{path:"profile",component:Se,beforeEnter:function(t,e,a){localStorage.auth?a():a("/")}}]}];o["default"].use(x["a"]),o["default"].use(l["a"]);var Ye=new x["a"].Store({state:{userId:"",accessToken:"",userName:"",rollnumber:"",email:"",TOTAL_BOOKS:0,TOTAL_MEMBERS:0,TOTAL_FINE:0,books:[],mybooks:[],total_mybooks:0}});o["default"].use(i["a"]),o["default"].use(n.a),o["default"].use(x["a"]),o["default"].use(l["a"]);var Ue=new i["a"]({routes:Ge,mode:"history"});new o["default"]({el:"#app",router:Ue,store:Ye,render:function(t){return t(g)}})},9834:function(t,e,a){"use strict";var o=a("a21d"),r=a.n(o);r.a},a21d:function(t,e,a){}});
//# sourceMappingURL=app.23b67900.js.map